---
title: '"Acceptabiliy Analysis for Catalan and Spanish Ratings"'
author: "ASSASSMG"
date: "`r Sys.Date()`"
output: html_document
---

The following block sets the [working directory](https://bookdown.org/yihui/rmarkdown-cookbook/working-directory.html) for reading in the files. Exchange the part before `/CaSpaSyn/code` with wherever you have the copy of the repository.

```{r, setup, include=FALSE}
knitr::opts_knit$set(root.dir = '~/repos/CaSpaSyn/code/')
```

Install libraries if necessary.

```{r include=FALSE}
#install.packages('readr')
#install.packages('car')
```

Load libraries.

```{r }
library(readr)
library(car)
```

# Data Exploration

Load data.

```{r}
df.initial <- read_csv('../data/catalan.csv')
str(df.initial)
```

Deal with NA ratings.

```{r}
# code here
```

Data treatment.

```{r}
# code here
```

Boxplot of ratings per scale point.

```{r}
# code here
```

## Outlier Inspection

### Participants

Plots of rating distribution per participant.

```{r}
# code here
```

### Survey Completion Time

Check for completion times 1 standard deviation away from average survey completion time ([source](https://academic.oup.com/poq/article/72/5/914/1832496#28138951)). Extreme outliers could lead to exclusion of the participant(s).

```{r}
# code here
```

### Rating Development over Time

Check whether participants used more extreme ratings towards the end of the study. Split (experimental) items in two groups: 50%:50% and 45%:15% and compare rating distribution. Extreme deviation from the rest of the split may lead to exclusion fo the participants.

```{r}
# code here
```

# Comparing Castillian and Catalan verbs in regards to dativ usage

Test for normal distribution of the ratings using the Shapiro-Wilk normality test (comes with base R).

```{r}
# shapiro.test(df$COLUMNNAME)
```

Use non-parametric tests after we show that most of the data is not normally distributed For a given verb, compare the active and pronominal usage using: - **variance** of the ratings with the Levene test - **means** of the ratings using man Mann-Whitney test

Compare the Variance.

```{r}
#leveneTest(abhängige Variable ~ Gruppierungsvariable, data = df)
```

Compare the Means. (Heißt Wilcox, mach aber Mann-Whitney) If the p-value is below 0.05 there is a significat difference between the two groups. The function `tapply` prints the mean of the two groups, which is not done by the `wilcox` function.

```{r}
#wilcox.test(df$abhängige Variable ~ df$Gruppierungsvariable)
#tapply(df$group1,df$group2,mean)
```

# Comparison between Castillian and Catalan Cognates

AA&AI vs. PA&PI, AA&PA vs. AI&PI, PN? (vs. PA oder PI)

...same as above once the code works.

```{r}
# code here
```

# Animacy Comparison

...same as above once the code works.

```{r}
# code here
```
